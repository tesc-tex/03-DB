\subsection{%
  Лекция \texttt{23.10.27}.%
}

\subheader{Безопасность}

Когда мы говорили о надежности, то мы говорили в первую очередь о предотвращении
случайных ошибок, непреднамеренных поломок и т.д. Когда мы говорим о
безопасности, то здесь речь идет в первую очередь об защите от намеренных
негативных действий.

\begin{definition}
  Система будет \textit{безопасной}, если она посредством специальных механизмов защиты
  контролирует доступ к информации таким образом, что только имеющие
  соответствующие полномочия лица или процессы могут получить доступ на чтение,
  изменение, создание, удаление информации.
\end{definition}

\subheader{Классы безопасности}

\subsubheader{Класс D}{}

Сюда относятся системы, которые не удовлетворяют требованиям других классов.

\subsubheader{Класс C.}{Дискреционный доступ}

Система относится к классу C, если она имеет систему
аутентификации/идентификации и дискреционное управление доступом.

\begin{definition}
  \textit{Идентификация} --- это фиксация в системе идентификатора пользователя.
\end{definition}

\begin{definition}
  \textit{Аутентификация} --- это механизм проверки идентификатора (сопоставление
  пользователя с его идентификатором).
\end{definition}

\begin{definition}
  \textit{Авторизация} --- это процесс предоставления прав 
  аутентифицированному пользователю.
\end{definition}

Идентификаторы бывают трех видов:
\begin{enumerate}
\item
  То, что пользователь знает. Например, пароль, кодовое слово и т.п.

\item
  То, чем пользователь владеет. Например, телефон, ключ--карта и т.п.

\item
  То, чем является неотъемлемой частью пользователя (чаще всего это биометрия).
  Например, отпечаток пальца и т.п.
\end{enumerate}

Далее о дискреционном доступе. Пусть есть объекты (файлы, таблицы, базы данных,
в целом все, что мы хотим защитить) и субъекты (пользователи, группы
пользователей). Составим табличку, где каждому субъекту будет соответствовать
строка, а каждому объекту~--- столбец. В каждой ячейке запишем уровень доступа
(только чтение, чтение + запись, чтение + запись + удаление и т.п.), который мы
хотим предоставить данному субъекту с данному объекту.

К созданию и редактированию получившейся таблицы есть три подхода:
\begin{enumerate}
\item
  Супер--админ. Есть только одна точка изменения (у этого есть как плюсы, так и
  минусы).

\item
  Для каждого объекта определяем ровно одного субъекта, который будет его
  владельцем. Владелец имеет право раздавать права на свой объект по своему
  усмотрению (зависит от ограничений и дизайна системы).

\item
  Создаем отдельное право \quote{давать права} и наделяем этим правом некоторых
  субъектов (ответ на вопрос о рекурсивной выдаче прав зависит от дизайна
  системы).
\end{enumerate}

\begin{remark}
  Уровень C делится на подуровни C1 и C2. Для подуровня С1 субъект может быть
  группой пользователей, в то время как для подуровня C2 необходима
  гранулированность субъектов до конкретного пользователя.
\end{remark}

\subsubheader{Класс B.}{Мандатное управление доступом}

Пусть есть следующая матрица доступа:
\begin{table}[h!]
  \centering

  \begin{tabularx}{0.3 \textwidth}{ X | X  X }
                & \texttt{O1} & \texttt{O2} \\ \hline
    \texttt{S1} & R           & RW          \\
    \texttt{S2} &             & R           \\
  \end{tabularx}
\end{table}

Пусть данные \texttt{O1}~--- секретные. Однако субъект \texttt{S1} может
прочитать их и записать в \texttt{O2}, откуда они станут доступны для субъекта
\texttt{S2}, который не должен иметь к ним никакого доступа. Для того, чтобы
избежать подобных проблем, существует мандатное управление доступом.

\begin{definition}
  В случае \textit{мандатного} управления доступом каждому объекту и субъекту
  сопоставляется некоторая метка секретности из заранее определенного
  ранжированного списка.
  
  Субъекту разрешается читать данные своего уровня секретности и ниже. Субъекту
  разрешается писать данные на свой уровень секретности и \textbf{выше} (именно
  это и позволяет избежать утечки данных).
\end{definition}

Уровень B делится на подуровни:

\begin{enumerate}
\item
  B1. Только мандатное управление доступом.

\item
  B2. Дополнительно к уровню B1 метками снабжаются не только все объекты в базе
  данных, но и все объекты, доступные системе.

\item
  B3. Добавляется журналирование всех событий
\end{enumerate}

\subsubheader{Класс A.}{Проверенный дизайн}

Помимо безопасности уровня B3 также гарантируем контроль безопасности не только
конечной системы, но и всего процесса разработки.

\subheader{Ролевая модель доступа}

\begin{minipage}{0.15 \textwidth}
  \centering

  \begin{tabularx}{0.9 \textwidth}{ X | X  X }
                & \texttt{O1} & \texttt{O2} \\ \hline
    \texttt{R1} & R           & RW          \\
    \texttt{R2} &             & R           \\
  \end{tabularx}
\end{minipage}%
\hspace{0.05 \textwidth}%
\begin{minipage}{0.15 \textwidth}
  \centering

  \begin{tabularx}{0.9 \textwidth}{ X | X  X }
                & \texttt{S1} & \texttt{S2} \\ \hline
    \texttt{R1} & R           & RW          \\
    \texttt{R2} &             & R           \\
  \end{tabularx}
\end{minipage}%
\hspace{0.05 \textwidth}%
\begin{minipage}{0.6 \textwidth}
  Теперь у каждого субъекта есть несколько ролей, причем каждая из ролей дает
  свой уровень доступа к разным объектам. В таком варианте проще отслеживать
  и изменять доступ пользователя.
\end{minipage}

\begin{remark}
  \textit{Аудит} --- это анализ результатов логирования и журналирования.
  Например, можно настроить алерты и автоматическую реакцию на подозрительные
  действия пользователя (частая смена пароля, например).
\end{remark}

Шифрование:
\begin{enumerate}
\item
  Прозрачное шифрование. Выполняется средствами базы данных при записи на диск,
  при этом для всей базы одинаковый ключ шифрования.

\item
  Колоночное шифрование. Разные столбцы шифруются разными ключами.

\item
  Шифрование на уровне файловой системы.

\item
  Шифрование на уровне приложения.
\end{enumerate}
